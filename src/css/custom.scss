/**
 * Any CSS included here will be global. The classic template
 * bundles Infima by default. Infima is a CSS framework designed to
 * work well for content-centric websites.
 */

@import url(./tailwindcss.base.reset.css);
@tailwind components;
@tailwind utilities;

// Prevent horizontal scrolling globally
* {
  box-sizing: border-box;
}

html,
body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  width: 100% !important;
}
/* @import 'fonts.scss'; */

@layer utilities {
  /* Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

/* You can override the default Infima variables here. */
:root {
  /* --ifm-font-family-base: como-pcc, ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, Roboto, sans; */
  --ifm-color-primary: #000000;
  --ifm-color-primary-dark: #000000;
  --ifm-color-primary-darker: #000000;
  --ifm-color-primary-darkest: #000000;
  --ifm-color-primary-light: #000000;
  --ifm-color-primary-lighter: #000000;
  --ifm-color-primary-lightest: #000000;
  --ifm-background-color: rgb(255, 255, 255);
  --ifm-navbar-background-color: #ffffff;
  --ifm-background-surface-color: #ffffff;
  --ifm-code-background-color: rgba(15, 23, 42, 0.05);
  --ifm-code-font-size: 95%;
  --ifm-toc-border-color: rgba(0, 0, 0, 0.1);
  // --ifm-navbar-height: 64px;
  --ifm-navbar-sidebar-width: 90vw;
  --ifm-footer-background-color: #ffffff;
}

.navbar__logo {
  height: 2.2rem;
}
[data-theme='dark'] .navbar__logo img {
  filter: invert(100%);
}
.dropdown__link {
  font-size: 1rem;
  padding: 0.4rem 0.7rem;
}
.dropdown__menu {
  min-width: 12rem;
  padding: 0.8rem;
}

/* For readability concerns, you should choose a lighter palette in dark mode. */
[data-theme='dark'] {
  --ifm-color-primary: #ffffff;
  --ifm-color-primary-dark: #ffffff;
  --ifm-color-primary-darker: #ffffff;
  --ifm-color-primary-darkest: #ffffff;
  --ifm-color-primary-light: #ffffff;
  --ifm-color-primary-lighter: #ffffff;
  --ifm-color-primary-lightest: #ffffff;
  --ifm-background-color: #101010 !important;
  --ifm-navbar-background-color: #101010;
  --ifm-background-surface-color: #101010;
  --ifm-dropdown-background-color: #101010;
  --ifm-code-background-color: rgba(255, 255, 255, 0.15);
  --ifm-toc-border-color: rgba(255, 255, 255, 0.1);
  --ifm-footer-background-color: #101010;
}

/* ðŸŽ‰ PARTY MODE ðŸŽ‰ - Party Colors */
[data-theme='party'] {
  --party-color-1: #ffadad;
  --party-color-2: #ffd6a5;
  --party-color-3: #fdffb6;
  --party-color-4: #caffbf;
  --party-color-5: #9bf6ff;
  --party-color-6: #a0c4ff;
  --party-color-7: #bdb2ff;
  --party-color-8: #ffc6ff;
  
  --ifm-color-primary: var(--party-current-color, #ffadad);
  --ifm-color-primary-dark: var(--party-current-color, #ffadad);
  --ifm-color-primary-darker: var(--party-current-color, #ffadad);
  --ifm-color-primary-darkest: var(--party-current-color, #ffadad);
  --ifm-color-primary-light: var(--party-current-color, #ffadad);
  --ifm-color-primary-lighter: var(--party-current-color, #ffadad);
  --ifm-color-primary-lightest: var(--party-current-color, #ffadad);
  --ifm-background-color: var(--party-current-color, #ffadad) !important;
  --ifm-navbar-background-color: var(--party-current-color, #ffadad);
  --ifm-background-surface-color: var(--party-current-color, #ffadad);
  --ifm-dropdown-background-color: var(--party-current-color, #ffadad);
  --ifm-code-background-color: rgba(255, 255, 255, 0.2);
  --ifm-toc-border-color: rgba(255, 255, 255, 0.3);
  --ifm-footer-background-color: var(--party-current-color, #ffadad);
}

/* Textured moving background with party colors */
[data-theme='party'] body {
  position: relative;
  background: 
    repeating-linear-gradient(
      0deg,
      var(--party-current-color, #ffadad) 0%,
      var(--party-current-color, #ffadad) 10%,
      rgba(255, 255, 255, 0.1) 10%,
      rgba(255, 255, 255, 0.1) 20%
    ),
    repeating-linear-gradient(
      90deg,
      var(--party-current-color, #ffadad) 0%,
      var(--party-current-color, #ffadad) 10%,
      rgba(0, 0, 0, 0.1) 10%,
      rgba(0, 0, 0, 0.1) 20%
    );
  background-size: 50px 50px, 50px 50px;
  animation: party-texture-move 3s linear infinite;
  background-attachment: fixed;
}

@keyframes party-texture-move {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 50px 50px, -50px -50px;
  }
}

/* Remove rainbow text effects - keep text normal */
[data-theme='party'] h1,
[data-theme='party'] h2,
[data-theme='party'] h3,
[data-theme='party'] p,
[data-theme='party'] span,
[data-theme='party'] div {
  color: inherit !important;
  background: none !important;
  -webkit-background-clip: unset !important;
  -webkit-text-fill-color: unset !important;
  background-clip: unset !important;
}

/* Party mode buttons */
[data-theme='party'] button,
[data-theme='party'] .button,
[data-theme='party'] a.button {
  background: var(--party-current-color, #ffadad);
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
  color: white;
}

[data-theme='party'] button:hover,
[data-theme='party'] .button:hover,
[data-theme='party'] a.button:hover {
  box-shadow: 0 0 30px var(--party-current-color, #ffadad);
  transform: scale(1.05);
}

/* Background clipart container */
[data-theme='party'] .party-clipart-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

[data-theme='party'] .party-clipart-bg img {
  position: absolute;
  opacity: 0.3;
  animation: party-float 20s ease-in-out infinite;
}

@keyframes party-float {
  0%, 100% {
    transform: translate(0, 0) rotate(0deg);
  }
  25% {
    transform: translate(20px, -20px) rotate(5deg);
  }
  50% {
    transform: translate(-20px, 20px) rotate(-5deg);
  }
  75% {
    transform: translate(20px, 20px) rotate(5deg);
  }
}

/* Show clipart sections only in party mode */
.party-clipart-section {
  display: none;
}

.party-clipart-bg {
  display: none;
}

[data-theme='party'] .party-clipart-section {
  display: block;
}

[data-theme='party'] .party-clipart-bg {
  display: block;
}

/* Ensure text is readable in party mode */
[data-theme='party'] {
  color: white;
}

[data-theme='party'] h1,
[data-theme='party'] h2,
[data-theme='party'] h3,
[data-theme='party'] h4,
[data-theme='party'] h5,
[data-theme='party'] h6 {
  color: white !important;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
}

[data-theme='party'] p,
[data-theme='party'] span,
[data-theme='party'] div:not(.party-clipart-bg):not(.party-clipart-section) {
  color: white !important;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

/* Make all white backgrounds/components use party colors */
[data-theme='party'] .bg-white,
[data-theme='party'] [class*="bg-white"],
[data-theme='party'] section.bg-white {
  background-color: var(--party-current-color, #ffadad) !important;
}

/* Target dark mode background classes in party mode */
[data-theme='party'] [class*="dark:bg"] {
  background-color: var(--party-current-color, #ffadad) !important;
}

[data-theme='party'] .bg-gray-50\/50,
[data-theme='party'] .bg-gray-900\/50 {
  background-color: var(--party-current-color, #ffadad) !important;
}

/* Party mode cards and containers */
[data-theme='party'] .card,
[data-theme='party'] [class^='cardContainer_'],
[data-theme='party'] .rounded-2xl,
[data-theme='party'] .rounded-xl {
  background-color: var(--party-current-color, #ffadad) !important;
}

/* Party mode dropdowns */
[data-theme='party'] .dropdown__menu {
  background-color: var(--party-current-color, #ffadad) !important;
}

/* Party mode breadcrumbs */
[data-theme='party'] .breadcrumbs__link {
  background-color: var(--party-current-color, #ffadad) !important;
}

/* Party mode table of contents */
[data-theme='party'] div.theme-doc-toc-desktop > ul,
[data-theme='party'] div[class^='tableOfContents_'] > ul {
  background-color: var(--party-current-color, #ffadad) !important;
}

.docusaurus-highlight-code-line {
  background-color: rgba(0, 0, 0, 0.1);
  display: block;
  margin: 0 calc(-1 * var(--ifm-pre-padding));
  padding: 0 var(--ifm-pre-padding);
}

[data-theme='dark'] .docusaurus-highlight-code-line {
  background-color: rgba(0, 0, 0, 0.3);
}

@media screen and (max-width: 996px) {
  :root {
    --ifm-font-size-base: 16px;
  }
  article .markdown h1,
  article .markdown header h1 {
    font-size: 2.2rem !important;
  }
  article h1[class^='blogPostTitle_'] {
    font-size: 1.4rem !important;
    @apply font-extrabold;
  }
  article h2[class^='blogPostTitle_'] {
    font-size: 1.4rem !important;
    @apply font-extrabold;
  }
}

@media screen and (min-width: 997px) {
  :root {
    --ifm-font-size-base: 16px;
  }
  article .markdown h1,
  article .markdown header h1 {
    font-size: 2.2rem !important;
  }
  article h1[class^='blogPostTitle_'] {
    font-size: 1.5rem !important;
    @apply font-extrabold;
  }
  article h2[class^='blogPostTitle_'] {
    font-size: 1.5rem !important;
    @apply font-extrabold;
  }
}

/* Announcment Bar */
div[class^='announcementBar_'] {
  background: linear-gradient(45deg, #ffd8e2, #e2e0ff);
  background-size: 1000% 1000%;
  animation: announcementBarBg 3s ease infinite;
  font-weight: 500;
  z-index: 0 !important;
}

@keyframes announcementBarBg {
  0% {
    background-position: 0% 90%;
  }
  50% {
    background-position: 100% 10%;
  }
  100% {
    background-position: 0% 90%;
  }
}

:root .navbar {
  backdrop-filter: blur(10px);
  background-color: rgba(255, 255, 255, 0.9);
  border-bottom: var(--ifm-toc-border-color) solid 0;
  box-shadow: none;
  @apply shadow-md shadow-slate-300/30;
}
:root .navbar.navbar-sidebar--show {
  backdrop-filter: none;
}

// .container {
//   @apply max-w-screen-xl;
// }

[data-theme='dark'] .navbar {
  backdrop-filter: blur(10px);
  background-color: rgba(16, 16, 16, 0.9);
  @apply shadow shadow-slate-500/30;
}

/* Party mode navbar */
[data-theme='party'] .navbar {
  backdrop-filter: blur(10px);
  background-color: var(--party-current-color, #ffadad) !important;
  @apply shadow-md;
}

/* Show logo in party mode */
[data-theme='party'] .navbar__logo {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

[data-theme='party'] .navbar__logo img {
  filter: none !important;
}

/* Remove distortion effects on navbar text in party mode */
[data-theme='party'] .navbar__item,
[data-theme='party'] .navbar__link,
[data-theme='party'] .navbar__brand {
  filter: none !important;
  transform: none !important;
  text-shadow: none !important;
  animation: none !important;
  color: white !important;
}

[data-theme='party'] .navbar__item:hover,
[data-theme='party'] .navbar__link:hover {
  filter: none !important;
  transform: none !important;
  opacity: 0.9 !important;
}
@-moz-document url-prefix() {
  :root .navbar {
    background-color: rgba(255, 255, 255, 0.95);
  }
  [data-theme='dark'] .navbar {
    backdrop-filter: none;
    background-color: rgba(0, 0, 0, 0.9);
  }
}

.aa-DetachedSearchButton {
  border-radius: 9999px !important;
  border: none !important;
  background: none !important;
  cursor: pointer !important;
  color: #000000 important;
}

.aa-DetachedSearchButtonPlaceholder {
  display: none;
}

// Wiki: use prose
// currently disabled
// main[class^="docMainContainer"] {
//   article .markdown {
//     @apply prose prose-black lg:prose-base xl:prose-lg max-w-none;
//   }
// }
// [data-theme="dark"] main[class^="docMainContainer"] {
//   article .markdown {
//     @apply prose-invert;
//   }
// }

[itemtype="http://schema.org/Blog"] article #post-content,
div[itemprop="articleBody"] {
  //@apply prose prose-violet lg:prose-base xl:prose-lg max-w-none;
  @apply prose-a:text-inherit;
}

[data-theme="dark"] [itemtype="http://schema.org/Blog"] article #post-content,
[data-theme="dark"] div[itemprop="articleBody"] {
  @apply prose-invert;
}

[itemtype="http://schema.org/Blog"] > header
{
  @apply bg-slate-400/20 rounded-lg px-6 py-3;
  margin-bottom: 1rem !important;
  > h1 {
    @apply text-xl font-bold;
  }
}

[itemtype="http://schema.org/BlogPosting"]
{
  margin-bottom: 2rem !important;
  &.margin-bottom--xl {
    margin-bottom: 2rem !important;
  }
  > footer {
    @apply border-b border-slate-400/20 mx-0 my-2 px-0 pt-2 pb-1;
    > div > b {
      display: none !important;
    }
    > div.col {
      padding: 0 !important;
    }
    > div > ul {
      margin-left: 0 !important;
    }
  }
}

// Hide authors on posts list page
.blog-list-page article > header > [class^='blogPostData_'] + div,
.blog-tags-post-list-page article > header > [class^='blogPostData_'] + div {
  @apply hidden;
}

div.theme-doc-toc-desktop > ul,
div[class^='tableOfContents_'] > ul {
  border: none;
  @apply rounded-xl bg-white/50 hover:bg-white dark:bg-white/10 dark:hover:bg-white/[0.15];
}

.table-of-contents__link {
  @apply border-b border-b-black/0 dark:border-b-white/0;
}

.table-of-contents__link--active {
  @apply font-medium border-b-black;
}

article .markdown {
  img {
    @apply place-self-center self-center justify-self-center;
    max-height: 60vh;
    width: auto;
  }
  iframe {
    @apply w-full aspect-video mb-2;
  }
  & img,
  & iframe {
    @apply rounded-xl;
  }
  // & a {
  //   @apply text-inherit underline;
  // }
}

article .markdown {
  & iframe[src^="https://www.youtube.com/embed/"],
  & iframe[src^="https://youtube.com/embed/"],
  & iframe[src^="https://player.vimeo.com/"]
  {
    @apply aspect-video;
  }
}

article .markdown {
  & iframe[src^="https://www.youtube.com/embed/"],
  & iframe[src^="https://youtube.com/embed/"],
  & iframe[src^="https://player.vimeo.com/"],
  & iframe[src^="https://open.spotify.com/embed/"],
  & iframe[src^="https://audius.co/embed/"],
  & iframe[src^="https://share.transistor.fm/e/"]
  {
    @apply bg-slate-500/20 mx-auto w-full lg:max-w-2xl;
  }
  img {
    @apply mx-auto;
  }
}

article .markdown {
  & .twitter-tweet-rendered,
  & .twitter-tweet {
    @apply mx-auto max-w-full;
  }
  & iframe[id^='twitter-widget-'] {
    @apply max-w-full;
  }
}

article .markdown {
  & iframe[src^="https://www.youtube.com/embed/"],
  & iframe[src^="https://youtube.com/embed/"],
  & iframe[src^="https://player.vimeo.com/"],
  & iframe[src^="https://open.spotify.com/embed/"],
  & iframe[src^="https://share.transistor.fm/e/"]
  {
    @apply sm:rounded-3xl;
  }
}

.footnotes hr {
  @apply border-0 border-b border-gray-500/30;
}

nav.pagination-nav {
  .pagination-nav__link {
    @apply border-0 bg-white/[0.5] hover:bg-white/[1] rounded-xl;
  }

  & .pagination-nav__sublabel,
  & .pagination-nav__label {
    @apply text-sm;
  }

  & .pagination-nav__sublabel {
    @apply text-xs opacity-75 uppercase;
  }

  & .pagination-nav__label::before,
  & .pagination-nav__label::after {
    content: '' !important;
  }
  & div:first-child .pagination-nav__sublabel::before {
    content: 'â—€ ' !important;
  }
  & div:last-child .pagination-nav__sublabel::after {
    content: ' â–¶' !important;
  }
}

[data-theme='dark'] nav.pagination-nav {
  .pagination-nav__link {
    @apply bg-white/10 hover:bg-white/[0.15];
  }
}

.navbar__item .dropdown__menu {
  @apply rounded-xl;
  .dropdown__link {
    @apply rounded-lg;
  }
}

// wiki

article .markdown .wikiPostHeadImgR {
  > p {
    @apply block md:inline-block mx-auto md:float-right;
    clear: both;
    img {
      @apply mx-auto md:float-right sm:w-64 lg:w-56 xl:w-72 2xl:w-auto 2xl:max-w-sm;
      @media screen and (min-width: 768px) {
        margin-left: 1rem !important;
        margin-bottom: 0.25rem !important;
      }
    }
  }
  &.limitW > p img {
    @apply max-w-[16rem];
  }
}

article .markdown .wikiPostListImgR {
  > p {
    @apply inline-block float-right;
    clear: both;
    img {
      @apply float-right w-32 md:w-40;
      margin-left: 1rem !important;
      margin-bottom: 0.25rem !important;
    }
  }
}

article .markdown .TeamAvatar {
  @apply rounded-full w-20 md:w-24 float-right;
  clear: both;
}

// Wiki: tier fx on h3 > sup
main[class^='docMainContainer'] {
  article .markdown h3 > sup {
    @apply bg-pink-500 text-white px-1 py-0.5 rounded-md;
    font-size: 0.8rem;
  }
}

// Wiki: code block
main[class^='docMainContainer'] {
  pre.prism-code {
    max-height: 60vh;
  }
}

// Hacks

.hack-safari-overlow {
  -webkit-mask-image: -webkit-radial-gradient(white, black);
}

main {
  & .breadcrumbs__link,
  & .breadcrumbs__item .breadcrumbs__link,
  & .breadcrumbs__item--active .breadcrumbs__link {
    @apply bg-white/50 hover:bg-white text-black;
    @apply dark:bg-white/5 dark:hover:bg-white/[0.15] dark:text-white;
  }
  & .breadcrumbs__item a.breadcrumbs__link {
    @apply text-black;
    @apply dark:text-white;
  }
  /* & .breadcrumbs__item:last-child,
  & .breadcrumbs__item:nth-last-child(2):after {
    @apply hidden;
  } */
}
nav[aria-label='Blog recent posts navigation'] {
  @apply p-4 bg-white/50 hover:bg-white rounded-xl;
  @apply dark:bg-white/10 dark:hover:bg-white/[0.15];
}

.card,
[class^='cardContainer_'] {
  @apply bg-violet-300/20 hover:bg-violet-500/20;
  @apply dark:bg-violet-900/20 dark:hover:bg-violet-500/20;
  border: none !important;
  box-shadow: none !important;

  /* hide  */
  h2::first-letter {
    @apply hidden opacity-0 -ml-[1em];
  }
}

// Remove extra padding on homepage and prevent horizontal scroll
main[class^='main-wrapper'] {
  padding-right: 0 !important;
  margin-right: 0 !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
}

// Remove padding from Docusaurus container on homepage
main .container {
  padding-right: 0 !important;
  margin-right: 0 !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
}

// Ensure LayoutTw doesn't add extra padding
.twBaseExtra {
  padding-right: 0 !important;
  margin-right: 0 !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
  width: 100% !important;
}

// Fix slick carousel - ensure it doesn't overflow but maintains functionality
.slick-slider {
  position: relative;
  display: block;
  box-sizing: border-box;
  width: 100%;
  max-width: 100vw;
}

.slick-list {
  position: relative;
  display: block;
  overflow: hidden;
  margin: 0;
  padding: 0;
  width: 100%;
  max-width: 100%;
}

.slick-track {
  position: relative;
  top: 0;
  left: 0;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.slick-slide {
  display: none;
  float: left;
  height: 100%;
  min-height: 1px;
  
  > div {
    width: 100%;
    max-width: 100%;
    height: 100%;
  }
}

.slick-slide.slick-active {
  display: block;
}

// Only apply overflow-x hidden to specific sections that need it
section.bg-gray-50\/50,
section.bg-gray-900\/50 {
  overflow-x: hidden;
  max-width: 100vw;
}

// Remove blue highlight on click/focus, use white/black instead
* {
  -webkit-tap-highlight-color: transparent;
}

button:focus,
a:focus,
div:focus {
  outline: none;
}

// Custom focus ring for dark/light mode
button:focus-visible,
a:focus-visible,
div:focus-visible {
  outline: 2px solid;
  outline-color: black;
  outline-offset: 2px;
}

[data-theme='dark'] button:focus-visible,
[data-theme='dark'] a:focus-visible,
[data-theme='dark'] div:focus-visible {
  outline-color: white;
}

// Prevent hover effects on touch devices
@media (hover: none) and (pointer: coarse) {
  .group:hover .group-hover\:opacity-0 {
    opacity: 1 !important;
  }
  
  .group:hover * {
    opacity: inherit !important;
  }
}

